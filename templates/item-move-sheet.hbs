<form class="{{cssClass}} my-move-sheet" autocomplete="off">
  <header class="sheet-header flexrow">
    <div class="header-fields">
      <label>Nombre del movimiento</label>
      <input type="text" name="name" value="{{item.name}}"/>
    </div>
  </header>

  <nav class="sheet-tabs tabs" data-group="primary">
    <a class="item" data-tab="details">Detalles</a>
    <a class="item" data-tab="mechanics">Mecánicas</a>
    <a class="item" data-tab="text">Texto</a>
    <a class="item" data-tab="effects">Efectos</a>
  </nav>

  <section class="sheet-body">
    <div class="tab" data-tab="details" data-group="primary">
      <div class="grid two-col">
        <div class="field">
          <label>Rango</label>
          <input type="text" name="system.range" value="{{system.range}}"/>
        </div>
        <div class="field">
          <label>PP</label>
          <div class="flexrow" style="gap:6px;">
            <input type="number" name="system.pp.value" value="{{system.pp.value}}" data-dtype="Number" min="0"/>
            <span>/</span>
            <input type="number" name="system.pp.max" value="{{system.pp.max}}" data-dtype="Number" min="0"/>
          </div>
        </div>

        <div class="field">
          <label>Precisión</label>
          <input type="number" name="system.accuracy" value="{{system.accuracy}}" data-dtype="Number"/>
        </div>
        <div class="field">
          <label>Categoría</label>
          <select name="system.category">
            <option value="physical" {{#if (eq system.category "physical")}}selected{{/if}}>Físico</option>
            <option value="special"  {{#if (eq system.category "special")}}selected{{/if}}>Especial</option>
            <option value="status"   {{#if (eq system.category "status")}}selected{{/if}}>Estado</option>
          </select>
        </div>

        <div class="field">
          <label>Tipo</label>
          <select name="system.element">
            {{#each typeOptions as |option|}}
              <option value="{{option.value}}" {{#if (eq option.value ../system.element)}}selected{{/if}}>{{option.label}}</option>
            {{/each}}
          </select>
        </div>
        <div class="field">
          <label>Daño base</label>
          <input type="number" name="system.baseDamage" value="{{system.baseDamage}}" data-dtype="Number" min="0"/>
        </div>
      </div>
    </div>

    <div class="tab" data-tab="mechanics" data-group="primary">
      <div class="grid two-col">
        <div class="field">
          <label>Mod. umbral crítico</label>
          <input type="number" name="system.critThresholdMod" value="{{system.critThresholdMod}}" data-dtype="Number"/>
        </div>
        <div class="field">
          <label>
            <input type="checkbox" name="system.extraRolls.enabled" {{#if system.extraRolls.enabled}}checked{{/if}} data-toggle-target="[data-extra-rolls-settings]"/>
            Tiradas adicionales
          </label>
        </div>
      </div>

      <div class="grid two-col" data-extra-rolls-settings style="{{#unless system.extraRolls.enabled}}display:none;{{/unless}}">
        <div class="field">
          <label>Cantidad de dados</label>
          <input type="number" name="system.extraRolls.quantity" value="{{system.extraRolls.quantity}}" data-dtype="Number" min="0"/>
        </div>
        <div class="field">
          <label>Tipo de dado</label>
          <select name="system.extraRolls.die">
            {{#each moveDieOptions as |die|}}
              <option value="{{die}}" {{#if (eq die ../system.extraRolls.die)}}selected{{/if}}>{{die}}</option>
            {{/each}}
          </select>
        </div>
      </div>

      <div class="field" data-extra-rolls-settings style="{{#unless system.extraRolls.enabled}}display:none;{{/unless}}">
        <label>Mensaje para el chat</label>
        <input type="text" name="system.extraRolls.message" value="{{system.extraRolls.message}}"/>
      </div>

      <hr/>

      <div class="field">
        <label>
          <input type="checkbox" name="system.multiAttack.enabled" {{#if system.multiAttack.enabled}}checked{{/if}} data-toggle-target="[data-multiattack-settings]"/>
          Multiataque
        </label>
      </div>

      <div class="field" data-multiattack-settings style="{{#unless system.multiAttack.enabled}}display:none;{{/unless}}">
        <label>Dado de ataques adicionales</label>
        <select name="system.multiAttack.die">
          {{#each moveDieOptions as |die|}}
            <option value="{{die}}" {{#if (eq die ../system.multiAttack.die)}}selected{{/if}}>{{die}}</option>
          {{/each}}
        </select>
      </div>
    </div>

    <div class="tab" data-tab="text" data-group="primary">
      <div class="field">
        <label>Efecto (opcional)</label>
        <textarea name="system.effect" rows="6">{{system.effect}}</textarea>
      </div>
    </div>

    <div class="tab" data-tab="effects" data-group="primary">
      {{> systems/PMD-Explorers-of-Fate/templates/parts/active-effects.hbs effects=activeEffects scope="item" editable=editable}}
    </div>
  </section>
</form>
